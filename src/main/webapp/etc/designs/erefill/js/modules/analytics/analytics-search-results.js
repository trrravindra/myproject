define(["jquery","stapes"],function(e,t){var n={},r=t.subclass({constructor:function(t){var r=this;r.config=e.extend({},n,t),r.setupClickAnalytics()},setupClickAnalytics:function(){var t=this,n=t.config;e(".ctrl-wrap .sorting select").on("change",function(r){var i=e(this),s=t.clean(e("option:selected",i).val());t.fireClickAnalytics({category:n.pageCategory,action:"engagement:sort search results",label:s,value:"",event:"GA Event"})}),e(".filters nav li a").on("click",function(r){var i=e(this),s=t.clean(i.clone().children().remove().end().text());t.fireClickAnalytics({category:n.pageCategory,action:"engagement:filter results",label:s,value:"",event:"GA Event"})}),e(".filters .filter-selected li a").on("click",function(r){var i=e(this),s=t.clean(i.clone().children().remove().end().text());t.fireClickAnalytics({category:n.pageCategory,action:"engagement:remove filter",label:s,value:"",event:"GA Event"})}),e(".ctrl-view .button-grid").on("click",function(e){t.fireClickAnalytics({category:n.pageCategory,action:"engagement:grid view",label:"",value:"",event:"GA Event"})}),e(".ctrl-view .button-list").on("click",function(e){t.fireClickAnalytics({category:n.pageCategory,action:"engagement:list view",label:"",value:"",event:"GA Event"})})},fireClickAnalytics:function(e){if(typeof dataLayer!="undefined")try{dataLayer.push(e)}catch(t){consoleLog(t)}},clean:function(t){var n=e.trim(t.replace(/[^a-zA-Z0-9 _-]/gi,"").replace(/\s{2,}/g," ")).toLowerCase();return n},consoleLog:function(e){typeof console!="undefined"&&console.log(e)}});return function(e){return new r(e)}});