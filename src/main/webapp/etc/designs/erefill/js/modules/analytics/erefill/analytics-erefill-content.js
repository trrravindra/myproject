define(["jquery","stapes"],function(e,t){var n={},r=t.subclass({constructor:function(t){var r=this;r.config=e.extend({},n,t),r.setupClickAnalytics()},setupClickAnalytics:function(){var t=this,n=t.config;e("select.submit-on-change").on("change",function(r){var i=e(this),s=i.attr("name"),o=i.val();s=="date-range"?t.fireClickAnalytics({category:n.pageCategory,action:"engagement:filter by date",label:o,value:"",event:"GA Event"}):s=="status"&&t.fireClickAnalytics({category:n.pageCategory,action:"engagement:filter by status",label:o,value:"",event:"GA Event"})}),e("select.myPres-submit-on-change1").on("change",function(r){var i=e(this),s=i.attr("name"),o=i.val();t.fireClickAnalytics({category:n.pageCategory,action:"engagement:filter by date",label:o,value:"",event:"GA Event"})}),e("select.myPres-submit-on-change").on("change",function(r){var i=e(this),s=i.attr("name"),o=i.val();t.fireClickAnalytics({category:n.pageCategory,action:"engagement:sort prescriptions",label:o,value:"",event:"GA Event"})}),e(".my-pharmacy a.more-details.modal").on("click",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:pharmacy details",label:"e-refill:"+n.identifiedStore,value:"",event:"GA Event"})}),e(".prescription-list a.drug-info").on("click",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:drug info",label:n.pageURL,value:"",event:"GA Event"})}),e(".prescription-list a.refill-history").on("click",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:refill history",label:n.pageURL,value:"",event:"GA Event"})}),e(window.document).on("click",".email-pharmacist",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:pharmacy details:email pharmacist",label:"e-refill:"+n.identifiedStore,value:"",event:"GA Event"})}),e(window.document).on("click",".overlay-drug-information .ctrl-print",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:print",label:"e-refill",value:"",event:"GA Event"})}),e(".page-medication-record .ctrl-print").on("click",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:print",label:"medication record",value:"",event:"GA Event"})}),e(".page-order-history .ctrl-print").on("click",function(r){var i=e(this);t.fireClickAnalytics({category:n.pageCategory,action:"engagement:print",label:"online order history",value:"",event:"GA Event"})})},fireClickAnalytics:function(e){if(typeof dataLayer!="undefined")try{dataLayer.push(e)}catch(t){consoleLog(t)}},clean:function(t){var n=e.trim(t.replace(/[^a-zA-Z0-9 _-]/gi,"").replace(/\s{2,}/g," ")).toLowerCase();return n},consoleLog:function(e){typeof console!="undefined"&&console.log(e)},getCategoryFromUrl:function(t){var n=t,r=1,i,s=e("html").attr("lang");return i=n.slice(n.indexOf(s)).split("/"),i.length<2?"other":i[r]}});return function(e){return new r(e)}});