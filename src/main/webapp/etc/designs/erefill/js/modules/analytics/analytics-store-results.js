define(["jquery","stapes"],function(e,t){var n={},r=t.subclass({constructor:function(t){var r=this;r.config=e.extend({},n,t),r.setupClickAnalytics()},setupClickAnalytics:function(){var t=this,n=t.config;e(window.document).on("click",".store-locator .collapse a:not(.store-locator .collapse.open a)",function(e){t.fireClickAnalytics({category:"store finder",action:"engagement:filter",label:"narrow search open",value:"",event:"GA Event"})}),e(".store-locator .departments input[type=checkbox]").on("click",function(n){var r=e(this),i=r.attr("name");r.is(":checked")&&t.fireClickAnalytics({category:"store finder",action:"engagement:filter",label:"narrow search:"+i,value:"",event:"GA Event"})}),e(window.document).on("click",".store-info .view-flyer-button",function(n){var r=e(this),i=t.clean(e(".title a",r.closest(".store-info")).text());t.fireClickAnalytics({category:"store finder",action:"engagement:view fly",label:"store:"+i,value:"",event:"GA Event"})}),e(window.document).on("click",".store-info .select-store-button",function(n){var r=e(this),i=t.clean(e(".title a",r.closest(".store-info")).text());t.fireClickAnalytics({category:"store finder",action:"engagement:select this store",label:"store:"+i,value:"",event:"GA Event"})}),e(window.document).on("click",".store-infoWindow .footer a:eq(0)",function(n){var r=e(this),i=t.clean(e(".title",r.closest(".store-infoWindow")).text());t.fireClickAnalytics({category:"store specific",action:"engagement:whats in store",label:"store:"+i,value:"",event:"GA Event"})}),e(window.document).on("click",".store-infoWindow .footer a:eq(1)",function(n){var r=e(this),i=t.clean(e(".title",r.closest(".store-infoWindow")).text());t.fireClickAnalytics({category:"store finder",action:"outgoing:get driving directions",label:"store:"+i,value:"",event:"GA Event"})}),e(window.document).on("click",".store-info .store-hours-services a:not(.store-info .open .store-hours-services a)",function(n){var r=e(this),i=t.clean(e(".title a",r.closest(".store-info")).text());t.fireClickAnalytics({category:"store finder",action:"engagement:store hours",label:"store:"+i,value:"",event:"GA Event"})})},fireClickAnalytics:function(e){if(typeof dataLayer!="undefined")try{dataLayer.push(e)}catch(t){consoleLog(t)}},clean:function(t){var n=e.trim(t.replace(/[^a-zA-Z0-9 _-]/gi,"").replace(/\s{2,}/g," ")).toLowerCase();return n},consoleLog:function(e){typeof console!="undefined"&&console.log(e)},getCategoryFromUrl:function(t){var n=t,r=1,i,s=e("html").attr("lang");return i=n.slice(n.indexOf(s)).split("/"),i.length<2?"other":i[r]}});return function(e){return new r(e)}});